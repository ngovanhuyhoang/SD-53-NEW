@model QuanView.Areas.Admin.Models.SanPhamBienTheHangLoatViewModel

@{
    ViewData["Title"] = "Chỉnh sửa biến thể hàng loạt";
}

<h2 class="mb-4">Chỉnh sửa biến thể hàng loạt</h2>

<form asp-area="Admin" asp-controller="SanPham" asp-action="ChinhSuaBienThe" method="post">
    @Html.AntiForgeryToken()

    <table class="table table-bordered">
        <thead>
            <tr>
                <th>Tên sản phẩm</th>
                <th>Kích cỡ</th>
                <th>Màu sắc</th>
                <th>Họa tiết</th>
                <th>Số lượng</th>
                <th>Giá bán (₫)</th>
            </tr>
        </thead>
        <tbody>
            @for (int i = 0; i < Model.BienThes.Count; i++)
            {
                <tr>
                    <td>
                        <input type="hidden" name="BienThes[@i].IdSanPhamChiTiet" value="@Model.BienThes[i].IdSanPhamChiTiet" />
                        <input type="hidden" name="BienThes[@i].IdSanPham" value="@Model.BienThes[i].IdSanPham" />
                        @Model.BienThes[i].TenSanPham
                    </td>
                    <td>@Model.BienThes[i].TenKichCo</td>
                    <td>@Model.BienThes[i].TenMauSac</td>
                    <td>@Model.BienThes[i].TenHoaTiet</td>
                    <td>
                        <input type="number"
                               name="BienThes[@i].SoLuong"
                               value="@Model.BienThes[i].SoLuong"
                               class="form-control" />

                    </td>
                    <td>
                        <input asp-for="BienThes[i].GiaBan" class="form-control" type="number" step="any" inputmode="decimal" />
                    </td>
                </tr>
            }

        </tbody>
    </table>

    <button type="submit" class="btn btn-primary">💾 Lưu thay đổi</button>
    <a asp-action="Index" class="btn btn-secondary ms-2">Quay lại</a>
</form>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}
